Idea from http://habrahabr.ru/blogs/skype/136395/